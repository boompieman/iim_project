<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_91) on Sat Mar 19 01:50:00 CST 2016 -->
<title>SegmentAligner</title>
<meta name="date" content="2016-03-19">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SegmentAligner";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/sourceforge/nite/datainspection/timespan/QuickScan.html" title="class in net.sourceforge.nite.datainspection.timespan"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/sourceforge/nite/datainspection/timespan/SegmentAligner.html" target="_top">Frames</a></li>
<li><a href="SegmentAligner.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.sourceforge.nite.datainspection.timespan</div>
<h2 title="Class SegmentAligner" class="title">Class SegmentAligner</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>net.sourceforge.nite.datainspection.timespan.SegmentAligner</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SegmentAligner</span>
extends java.lang.Object</pre>
<div class="block">Aligns two 'segment annotations'.

 See design on paper for documentation</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#SegmentAligner()">SegmentAligner</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan">SegmentAlignment</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#alignSegments(java.util.ArrayList,%20java.util.ArrayList,%20double,%20net.sourceforge.nite.util.Predicate)">alignSegments</a></strong>(java.util.ArrayList&nbsp;segmentList1,
             java.util.ArrayList&nbsp;segmentList2,
             double&nbsp;th,
             <a href="../../../../../net/sourceforge/nite/util/Predicate.html" title="interface in net.sourceforge.nite.util">Predicate</a>&nbsp;isIgnoreP)</code>
<div class="block">This default alignment method takes two segments to be 'equal' if the difference in time is at most 'th'.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.ArrayList</code></td>
<td class="colLast"><code><strong><a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#createFinalMatching(java.util.ArrayList,%20java.util.Set,%20java.util.Set)">createFinalMatching</a></strong>(java.util.ArrayList&nbsp;candidates,
                   java.util.Set&nbsp;unmatched1,
                   java.util.Set&nbsp;unmatched2)</code>
<div class="block">recursive: make one heaviest match final, then split in left and right and do again
    method taken from {kuper2004,IJCAI, MUMIS merging}
    candidatematching lists are sorted on weight! but final matching list will automatically be sorted on time!

    also modifies the unmatchedSegmentLists...</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../net/sourceforge/nite/util/WeightedPair.html" title="class in net.sourceforge.nite.util">WeightedPair</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#getCandidate(net.sourceforge.nite.nom.nomwrite.impl.NOMWriteElement,%20net.sourceforge.nite.nom.nomwrite.impl.NOMWriteElement,%20double,%20net.sourceforge.nite.util.Predicate)">getCandidate</a></strong>(<a href="../../../../../net/sourceforge/nite/nom/nomwrite/impl/NOMWriteElement.html" title="class in net.sourceforge.nite.nom.nomwrite.impl">NOMWriteElement</a>&nbsp;nwe1,
            <a href="../../../../../net/sourceforge/nite/nom/nomwrite/impl/NOMWriteElement.html" title="class in net.sourceforge.nite.nom.nomwrite.impl">NOMWriteElement</a>&nbsp;nwe2,
            double&nbsp;th,
            <a href="../../../../../net/sourceforge/nite/util/Predicate.html" title="interface in net.sourceforge.nite.util">Predicate</a>&nbsp;isIgnoreP)</code>
<div class="block">Given two segments from different coders, return null if they cannot be aligned (e.g.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#selectFinalMatchings(net.sourceforge.nite.datainspection.timespan.SegmentAlignment,%20java.util.ArrayList)">selectFinalMatchings</a></strong>(<a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan">SegmentAlignment</a>&nbsp;data,
                    java.util.ArrayList&nbsp;candidateMatchings)</code>
<div class="block">Use a derivation of the MUMIS merging algorithm to select final alignments between segments of different annotators.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SegmentAligner()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SegmentAligner</h4>
<pre>public&nbsp;SegmentAligner()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="alignSegments(java.util.ArrayList, java.util.ArrayList, double, net.sourceforge.nite.util.Predicate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alignSegments</h4>
<pre>public static&nbsp;<a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan">SegmentAlignment</a>&nbsp;alignSegments(java.util.ArrayList&nbsp;segmentList1,
                             java.util.ArrayList&nbsp;segmentList2,
                             double&nbsp;th,
                             <a href="../../../../../net/sourceforge/nite/util/Predicate.html" title="interface in net.sourceforge.nite.util">Predicate</a>&nbsp;isIgnoreP)</pre>
<div class="block">This default alignment method takes two segments to be 'equal' if the difference in time is at most 'th'.
    First all potential candidates are selected (based on th); then the final matchings are selected, searching
    through the candidates for the 'best' matches.
    It is certain that each segments is aligned only once, but there is no garantuee about how this is achieved.</div>
</li>
</ul>
<a name="getCandidate(net.sourceforge.nite.nom.nomwrite.impl.NOMWriteElement, net.sourceforge.nite.nom.nomwrite.impl.NOMWriteElement, double, net.sourceforge.nite.util.Predicate)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCandidate</h4>
<pre>public static&nbsp;<a href="../../../../../net/sourceforge/nite/util/WeightedPair.html" title="class in net.sourceforge.nite.util">WeightedPair</a>&nbsp;getCandidate(<a href="../../../../../net/sourceforge/nite/nom/nomwrite/impl/NOMWriteElement.html" title="class in net.sourceforge.nite.nom.nomwrite.impl">NOMWriteElement</a>&nbsp;nwe1,
                        <a href="../../../../../net/sourceforge/nite/nom/nomwrite/impl/NOMWriteElement.html" title="class in net.sourceforge.nite.nom.nomwrite.impl">NOMWriteElement</a>&nbsp;nwe2,
                        double&nbsp;th,
                        <a href="../../../../../net/sourceforge/nite/util/Predicate.html" title="interface in net.sourceforge.nite.util">Predicate</a>&nbsp;isIgnoreP)</pre>
<div class="block">Given two segments from different coders, return null if they cannot be aligned (e.g. too far away),
 or a weighted pair as candidate if they MIGHT be aligned.

 Parameters & rules for deciding candidates, in order of application:
      If one of the elements is an ignore element, there is no alignment. 
      To be considered a candidate alginemt, the start points, and the end points, 
          should be apart no more than /th/ seconds.
 <p>
 If the timing constraints are met, the pair is a candidate for alignment. The WEIGHT of the alignments
 is calculated based on timing difference 

<p><p><p>NOT APPLIED YET is the following extension. (see also package documentation)
          as a special case, the elements should be 'very large'. In the last case
          there should be a large /overlap/ between the segments. (The rationale is that if 
          segments are 20 seconds long, then a delay of 2 seconds is not as bad as long as the
          /overlap/ between the segments is e.g. 15 seconds).
          'Large enough': overlap divided by sum of lengths should be .25 or larger
          ( they overlap for more than half (equalsized) or e.g. one is no more than 3 
           times size of other (unequalsized containment))

<p><p><p>NOT APPLIED YET is the following extension. (see also package documentation)
 WEIGHT is also determined by the labelling difference as calculated by the DistanceMetric
 from the constructor.</div>
</li>
</ul>
<a name="selectFinalMatchings(net.sourceforge.nite.datainspection.timespan.SegmentAlignment, java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>selectFinalMatchings</h4>
<pre>public static&nbsp;void&nbsp;selectFinalMatchings(<a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan">SegmentAlignment</a>&nbsp;data,
                        java.util.ArrayList&nbsp;candidateMatchings)</pre>
<div class="block">Use a derivation of the MUMIS merging algorithm to select final alignments between segments of different annotators.</div>
</li>
</ul>
<a name="createFinalMatching(java.util.ArrayList, java.util.Set, java.util.Set)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createFinalMatching</h4>
<pre>public static&nbsp;java.util.ArrayList&nbsp;createFinalMatching(java.util.ArrayList&nbsp;candidates,
                                      java.util.Set&nbsp;unmatched1,
                                      java.util.Set&nbsp;unmatched2)</pre>
<div class="block">recursive: make one heaviest match final, then split in left and right and do again
    method taken from {kuper2004,IJCAI, MUMIS merging}
    candidatematching lists are sorted on weight! but final matching list will automatically be sorted on time!

    also modifies the unmatchedSegmentLists...</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/sourceforge/nite/datainspection/timespan/QuickScan.html" title="class in net.sourceforge.nite.datainspection.timespan"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/sourceforge/nite/datainspection/timespan/SegmentAligner.html" target="_top">Frames</a></li>
<li><a href="SegmentAligner.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
